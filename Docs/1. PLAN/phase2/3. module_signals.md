# ğŸ“ Docs/Plan/Phase2/module_signals.md

---

## ğŸ“Œ ëª©ì 
- AI/ML ëª¨ë¸ì„ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ëœ ì‹ í˜¸ë¥¼ ê´€ë¦¬í•˜ê³ , íŠ¸ë ˆì´ë”© ì „ëµì˜ í•µì‹¬ ë°ì´í„°ë¥¼ ì œê³µ.
- ì‹ í˜¸ í•„í„°ë§, ë¦¬ìŠ¤í¬ ê´€ë¦¬, ìµœì í™” ê³¼ì •ì„ í¬í•¨í•˜ì—¬ ê³ í’ˆì§ˆì˜ ë§¤ë§¤ ì‹ í˜¸ ìƒì„±.

---

## ğŸ“ ë””ë ‰í„°ë¦¬ êµ¬ì¡°
```plaintext
signals/
â”œâ”€â”€ __init__.py              # ëª¨ë“ˆ ì´ˆê¸°í™” íŒŒì¼
â”œâ”€â”€ generator.py             # AI ê¸°ë°˜ ì‹ í˜¸ ìƒì„±
â”œâ”€â”€ filters.py               # ì‹ í˜¸ í•„í„°ë§
â”œâ”€â”€ risk_management.py       # ë¦¬ìŠ¤í¬ ê´€ë¦¬
â”œâ”€â”€ optimizer.py             # ì‹ í˜¸ ìµœì í™”
```

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

1ï¸âƒ£ **ì‹ í˜¸ ìƒì„±**
- AI/ML ëª¨ë¸ì˜ ì¶œë ¥ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹ í˜¸ë¥¼ ìƒì„±.
- ì˜ˆì¸¡ëœ ë§¤ë§¤ ê¸°íšŒë¥¼ ì •ëŸ‰ì ìœ¼ë¡œ í‰ê°€.

2ï¸âƒ£ **ì‹ í˜¸ í•„í„°ë§**
- ë‚®ì€ ì‹ ë¢°ë„ì˜ ì‹ í˜¸ ì œê±°.
- ì‚¬ìš©ì ì •ì˜ ì¡°ê±´ì„ ì ìš©í•˜ì—¬ ì‹ í˜¸ í’ˆì§ˆì„ ë³´ì¥.

3ï¸âƒ£ **ë¦¬ìŠ¤í¬ ê´€ë¦¬**
- í¬ì§€ì…˜ í¬ê¸°ì™€ ë¦¬ìŠ¤í¬ ìˆ˜ì¤€ì„ ê³„ì‚°í•˜ì—¬ ì•ˆì „í•œ ë§¤ë§¤ ì „ëµ ë³´ì¥.

4ï¸âƒ£ **ì‹ í˜¸ ìµœì í™”**
- ì „ëµì— ë§ê²Œ ìƒì„±ëœ ì‹ í˜¸ë¥¼ ì¡°ì • ë° ê°œì„ .

---

## ğŸ“„ ì£¼ìš” íŒŒì¼ ì„¤ëª…

### 1ï¸âƒ£ `__init__.py`
- **ëª©ì **: signals ëª¨ë“ˆì„ íŒ¨í‚¤ì§€ë¡œ ì¸ì‹í•˜ê²Œ í•˜ëŠ” ì´ˆê¸°í™” íŒŒì¼.
- **ì£¼ìš” ì—­í• **:
  - ê³µìš© í•¨ìˆ˜ ë° í´ë˜ìŠ¤ë¥¼ ë¡œë“œ.
  - ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ signals í´ë”ë¥¼ íŒ¨í‚¤ì§€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •.

---

### 2ï¸âƒ£ `generator.py`
- **ëª©ì **: ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ë¡œë¶€í„° ì‹ í˜¸ë¥¼ ìƒì„±.
- **ì£¼ìš” ê¸°ëŠ¥**:
  - AI/ML ëª¨ë¸ì˜ ì˜ˆì¸¡ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ì‹ í˜¸ ìƒì„±.
  - ëª¨ë¸ ì¶œë ¥ê°’ì„ ì •ë¦¬í•˜ì—¬ ë§¤ë§¤ ê¸°íšŒë¥¼ ê³„ì‚°.

#### ì£¼ìš” í•¨ìˆ˜:
1. **`generate_signals(model_output: dict, threshold: float) -> list`**
   - **ì„¤ëª…**: ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì˜ ì˜ˆì¸¡ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹ í˜¸ë¥¼ ìƒì„±.
   - **ì…ë ¥ê°’**:
     - `model_output`: ëª¨ë¸ ì˜ˆì¸¡ ê²°ê³¼ (ë”•ì…”ë„ˆë¦¬).
     - `threshold`: ì‹ í˜¸ ìƒì„± ì„ê³„ê°’.
   - **ì¶œë ¥ê°’**: ìƒì„±ëœ ì‹ í˜¸ ë¦¬ìŠ¤íŠ¸.
   - **êµ¬í˜„**:
     ```python
     def generate_signals(model_output, threshold):
         signals = []
         for asset, score in model_output.items():
             if score >= threshold:
                 signals.append({"asset": asset, "score": score})
         return signals
     ```

---

### 3ï¸âƒ£ `filters.py`
- **ëª©ì **: ìƒì„±ëœ ì‹ í˜¸ë¥¼ í•„í„°ë§í•˜ì—¬ í’ˆì§ˆì„ ë³´ì¥.
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ì‹ ë¢°ë„ ê¸°ë°˜ í•„í„°ë§.
  - ì‚¬ìš©ì ì •ì˜ ì¡°ê±´ ì ìš©.

#### ì£¼ìš” í•¨ìˆ˜:
1. **`filter_signals(signals: list, min_score: float) -> list`**
   - **ì„¤ëª…**: ì‹ ë¢°ë„ê°€ ë‚®ì€ ì‹ í˜¸ë¥¼ í•„í„°ë§.
   - **ì…ë ¥ê°’**:
     - `signals`: ìƒì„±ëœ ì‹ í˜¸ ë¦¬ìŠ¤íŠ¸.
     - `min_score`: í•„í„°ë§ ì„ê³„ê°’.
   - **ì¶œë ¥ê°’**: í•„í„°ë§ëœ ì‹ í˜¸ ë¦¬ìŠ¤íŠ¸.
   - **êµ¬í˜„**:
     ```python
     def filter_signals(signals, min_score):
         return [signal for signal in signals if signal["score"] >= min_score]
     ```

---

### 4ï¸âƒ£ `risk_management.py`
- **ëª©ì **: ì‹ í˜¸ë³„ ë¦¬ìŠ¤í¬ë¥¼ í‰ê°€í•˜ê³  í¬ì§€ì…˜ í¬ê¸°ë¥¼ ê³„ì‚°.
- **ì£¼ìš” ê¸°ëŠ¥**:
  - í¬ì§€ì…˜ í¬ê¸° ê³„ì‚°.
  - ë¦¬ìŠ¤í¬ í‰ê°€.

#### ì£¼ìš” í•¨ìˆ˜:
1. **`calculate_position_size(balance: float, risk_per_trade: float, stop_loss: float) -> float`**
   - **ì„¤ëª…**: í¬ì§€ì…˜ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ì—¬ ë¦¬ìŠ¤í¬ë¥¼ ìµœì†Œí™”.
   - **ì…ë ¥ê°’**:
     - `balance`: ì´ ê³„ì¢Œ ì”ì•¡.
     - `risk_per_trade`: ê±°ë˜ë‹¹ ë¦¬ìŠ¤í¬ ë¹„ìœ¨.
     - `stop_loss`: ì†ì ˆë§¤ ê±°ë¦¬.
   - **ì¶œë ¥ê°’**: ê³„ì‚°ëœ í¬ì§€ì…˜ í¬ê¸°.
   - **êµ¬í˜„**:
     ```python
     def calculate_position_size(balance, risk_per_trade, stop_loss):
         return (balance * risk_per_trade) / stop_loss
     ```

---

### 5ï¸âƒ£ `optimizer.py`
- **ëª©ì **: ì‹ í˜¸ë¥¼ ì „ëµì— ë§ê²Œ ìµœì í™”.
- **ì£¼ìš” ê¸°ëŠ¥**:
  - ì‹ í˜¸ ê°œì„ .
  - ì „ëµ ìµœì í™”ë¥¼ ìœ„í•œ ë°ì´í„° ì œê³µ.

#### ì£¼ìš” í•¨ìˆ˜:
1. **`optimize_signals(signals: list, strategy_params: dict) -> list`**
   - **ì„¤ëª…**: ì „ëµì— ë§ê²Œ ì‹ í˜¸ë¥¼ ìµœì í™”.
   - **ì…ë ¥ê°’**:
     - `signals`: ìƒì„±ëœ ì‹ í˜¸ ë¦¬ìŠ¤íŠ¸.
     - `strategy_params`: ì „ëµ ìµœì í™” íŒŒë¼ë¯¸í„°.
   - **ì¶œë ¥ê°’**: ìµœì í™”ëœ ì‹ í˜¸ ë¦¬ìŠ¤íŠ¸.
   - **êµ¬í˜„**:
     ```python
     def optimize_signals(signals, strategy_params):
         optimized_signals = []
         for signal in signals:
             # ì „ëµì— ë”°ë¥¸ ìµœì í™” ë¡œì§ ì ìš©
             if signal["score"] * strategy_params.get("weight", 1) > strategy_params.get("threshold", 0):
                 optimized_signals.append(signal)
         return optimized_signals
     ```

---

## ğŸ”— í†µì‹  êµ¬ì¡° ë° ì˜ì¡´ì„±

### ë°ì´í„° íë¦„
1. **ì…ë ¥**:
   - models/trainer.py â†’ signals/generator.py
   - signals/generator.py â†’ signals/filters.py
2. **ì¶œë ¥**:
   - signals/filters.py â†’ execution/arbitrage_executor.py

### ì£¼ìš” ì˜ì¡´ì„±
- **ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬**:
  - pandas: ë°ì´í„° ì²˜ë¦¬.
  - numpy: ìˆ˜í•™ ì—°ì‚°.
- **ë‚´ë¶€ ì˜ì¡´ì„±**:
  - models/trainer.py: AI/ML ëª¨ë¸ ì˜ˆì¸¡ ë°ì´í„°.

---

## ğŸ“… ê°œë°œ ì¼ì •
1ï¸âƒ£ ì„¤ê³„ ë° ê²€í† : 3ì¼
2ï¸âƒ£ ëª¨ë“ˆë³„ ê°œë°œ: 5ì¼
   - generator.py: 2ì¼
   - filters.py: 1ì¼
   - risk_management.py: 1ì¼
   - optimizer.py: 1ì¼
3ï¸âƒ£ í†µí•© í…ŒìŠ¤íŠ¸: 2ì¼

---

## ğŸ“˜ ì°¸ê³  ë¬¸ì„œ ë° ë§í¬
- [Docs/Plan/Phase2/module_models.md](Docs/Plan/Phase2/module_models.md)
- [Docs/Plan/Phase1/module_data.md](Docs/Plan/Phase1/module_data.md)
- [Docs/Plan/Phase1/logger.md](Docs/Plan/Phase1/logger.md)
